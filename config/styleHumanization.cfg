-- -*- mode: Conf; coding: utf-8-unix -*-
-- style humanization strategies for MidiTransformer script;
--
-- The strategy describes how many count-in measures are skipped, how
-- the timing and the velocity may be changed depending on the
-- position of a note within a measure.
--
-- The velocity factor is a percentage that is applied to the existing
-- percentage taking the slack as the possible variation. E.g. a
-- velocity percentage of 80 with a slack of 10 varies between a
-- factor of 0.7 and 0.9.  The distribution is quadratic around the
-- center.
--
-- The timing is a percentage of variation in thirtysecond beats.
-- E.g. a value of 25 means that the timing may be off by at most a
-- 128th before or after the beat (25% of a thirtysecond note).  When
-- the percentage has a "D" prefix (for "dragged"), only a delay is
-- possible.
--
-- Additionally there is a global setting for instrument dependent
-- scaling factor on the velocity and timing variation.  A drum is
-- very tight and has a factor of 100% each which means that the
-- calculated variation is taken directly; a bass is slightly more
-- loose and has a factor of 150% each which means that the calculated
-- variation is scaled by a factor of 1.5.
--
-- by Dr. Thomas Tensi, 2017

standardCountIn = "COUNTIN: 2"

-- ============================================================

-- all humanization styles known so far
styleNameList = "DEFAULT|BEAT_STD|BEAT_TIGHT|ROCK_HARD|REGGAE"

-- ============================================================

-- global setting for instrument dependent scaling factor on the
-- velocity and timing variation as a percentage

variationFactors = "bass:140/125"      \
                   " drums:100/100"    \
                   " guitar:200/160"   \
                   " keyboard:150/150" \
                   " strings:150/150"  \
                   " vocals:180/160"

-- ============================================================

styleBeatStd   = standardCountIn \
                 "/ TIMING:   1:0, 2:15, 3:0, 4:15, S:D10, OTHER:D10" \
                 "/ VELOCITY: 1:105, 2:95, 3:125, 4:95, S:90, OTHER:85," \
                 "            SLACK:10"

styleBeatTight = standardCountIn \
                 "/ TIMING:   1:0, 2:5, 3:5, 4:5, S:D10, OTHER:D10" \
                 "/ VELOCITY: 1:125, 2:100, 3:115, 4:105, S:90, OTHER:95," \
                 "            SLACK:10"

styleDefault   = standardCountIn \
                 "/ TIMING: 1:0, 2:25, 3:10, 4:25, S:D50, OTHER:D35" \
	 	 "/ VELOCITY: 1:115, 2:100, 3:110, 4:100, S:105, OTHER:85,"\
                 "            SLACK:10"

styleReggae    = standardCountIn \
                 "/ TIMING:   1:10, 2:10, 3:0, 4:10, S:D20, OTHER:D30" \
                 "/ VELOCITY: 1:100, 2:95, 3:110, 4:95, S:80, OTHER:85," \
                 "            SLACK:10"

styleRockHard  = standardCountIn \
	         "/ TIMING:   1:10, 2:0, 3:10, 4:0, S:D15, OTHER:D20" \
		 "/ VELOCITY: 1:100, 2:115, 3:95, 4:110, S:90, OTHER:85," \
                 "            SLACK:10"
